{
  "metadata": {
    "dbt_schema_version": "https://schemas.getdbt.com/dbt/manifest/v9.json",
    "dbt_version": "1.5.0",
    "generated_at": "2024-01-01T12:00:00.000Z",
    "invocation_id": "test-invocation-id"
  },
  "nodes": {
    "model.project.simple_model": {
      "unique_id": "model.project.simple_model",
      "name": "simple_model",
      "path": "models/simple_model.sql",
      "raw_code": "SELECT id, name FROM {{ source('raw', 'users') }}",
      "compiled_code": "SELECT id, name FROM raw.public.users",
      "materialization": "table",
      "tags": ["pipeline_a"],
      "description": "Simple select from source table"
    },
    "model.project.join_model": {
      "unique_id": "model.project.join_model",
      "name": "join_model",
      "path": "models/join_model.sql",
      "raw_code": "WITH user_data AS (SELECT id, name FROM {{ ref('users_base') }}), order_data AS (SELECT user_id, order_id FROM {{ ref('orders') }}) SELECT u.id, u.name, o.order_id FROM user_data u INNER JOIN order_data o ON u.id = o.user_id LEFT JOIN {{ ref('products') }} p ON o.product_id = p.id",
      "compiled_code": "WITH user_data AS (SELECT id, name FROM users_base), order_data AS (SELECT user_id, order_id FROM orders) SELECT u.id, u.name, o.order_id FROM user_data u INNER JOIN order_data o ON u.id = o.user_id LEFT JOIN products p ON o.product_id = p.id",
      "materialization": "table",
      "tags": ["pipeline_b"],
      "description": "Model with multiple JOINs and CTEs"
    },
    "model.project.complex_model": {
      "unique_id": "model.project.complex_model",
      "name": "complex_model",
      "path": "models/complex_model.sql",
      "raw_code": "WITH cte1 AS (SELECT * FROM table1), cte2 AS (SELECT * FROM table2), cte3 AS (SELECT * FROM table3), cte4 AS (SELECT * FROM table4) SELECT a.id, ROW_NUMBER() OVER (PARTITION BY a.category ORDER BY a.date) as rn, RANK() OVER (PARTITION BY a.category ORDER BY a.value DESC) as rank_val, LAG(a.value) OVER (PARTITION BY a.category ORDER BY a.date) as prev_value FROM cte1 a INNER JOIN cte2 b ON a.id = b.id LEFT JOIN cte3 c ON b.id = c.id FULL OUTER JOIN cte4 d ON c.id = d.id",
      "compiled_code": "WITH cte1 AS (SELECT * FROM table1), cte2 AS (SELECT * FROM table2), cte3 AS (SELECT * FROM table3), cte4 AS (SELECT * FROM table4) SELECT a.id, ROW_NUMBER() OVER (PARTITION BY a.category ORDER BY a.date) as rn, RANK() OVER (PARTITION BY a.category ORDER BY a.value DESC) as rank_val, LAG(a.value) OVER (PARTITION BY a.category ORDER BY a.date) as prev_value FROM cte1 a INNER JOIN cte2 b ON a.id = b.id LEFT JOIN cte3 c ON b.id = c.id FULL OUTER JOIN cte4 d ON c.id = d.id",
      "materialization": "table",
      "tags": ["pipeline_c"],
      "description": "Complex model with many CTEs and window functions"
    },
    "model.project.view_model": {
      "unique_id": "model.project.view_model",
      "name": "view_model",
      "path": "models/view_model.sql",
      "raw_code": "SELECT * FROM {{ ref('some_table') }}",
      "compiled_code": "SELECT * FROM some_table",
      "materialization": "view",
      "tags": ["pipeline_a"],
      "description": "Simple view model"
    },
    "model.project.no_code_model": {
      "unique_id": "model.project.no_code_model",
      "name": "no_code_model",
      "path": "models/no_code_model.sql",
      "materialization": "ephemeral",
      "tags": ["pipeline_b"],
      "description": "Model with no SQL code"
    }
  }
}
